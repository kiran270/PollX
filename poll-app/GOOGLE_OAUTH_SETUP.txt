â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘          GOOGLE OAUTH SETUP FOR pollx.duckdns.org                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ STEP-BY-STEP INSTRUCTIONS:

1ï¸âƒ£  GO TO GOOGLE CLOUD CONSOLE
   â†’ https://console.cloud.google.com/
   â†’ Select your project
   â†’ APIs & Services â†’ Credentials

2ï¸âƒ£  CLICK ON YOUR OAUTH 2.0 CLIENT ID
   â†’ Look for Client ID: 310418779553-pgesbbt7pcvtm8mm8a6hsg50turhtlmh
   â†’ Click to edit

3ï¸âƒ£  ADD AUTHORIZED REDIRECT URIs
   Click "+ ADD URI" and add each of these:

   âœ“ http://localhost:3000/api/auth/callback/google
   âœ“ http://localhost/api/auth/callback/google
   âœ“ http://pollx.duckdns.org/api/auth/callback/google
   âœ“ https://pollx.duckdns.org/api/auth/callback/google

   âš ï¸  NO trailing slashes!

4ï¸âƒ£  ADD AUTHORIZED JAVASCRIPT ORIGINS
   Click "+ ADD URI" and add each of these:

   âœ“ http://localhost:3000
   âœ“ http://localhost
   âœ“ http://pollx.duckdns.org
   âœ“ https://pollx.duckdns.org

5ï¸âƒ£  CLICK SAVE
   â†’ Wait 5-10 minutes for changes to propagate

6ï¸âƒ£  RESTART YOUR APP (on EC2)
   â†’ docker-compose restart poll-app

7ï¸âƒ£  CLEAR BROWSER CACHE
   â†’ Or use Incognito/Private mode

8ï¸âƒ£  TEST SIGN IN
   â†’ Go to: http://pollx.duckdns.org
   â†’ Click "Sign in with Google"
   â†’ Should work now! âœ…

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    CURRENT CONFIGURATION                         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Your .env.local:
  NEXTAUTH_URL="http://pollx.duckdns.org"
  GOOGLE_CLIENT_ID="310418779553-pgesbbt7pcvtm8mm8a6hsg50turhtlmh.apps.googleusercontent.com"

Required Redirect URI:
  http://pollx.duckdns.org/api/auth/callback/google

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                      TROUBLESHOOTING                             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âŒ Still getting error?

1. Check the error message for the EXACT redirect_uri
2. Copy that EXACT URL
3. Add it to Google Cloud Console
4. Make sure NO trailing slash
5. Make sure HTTP/HTTPS matches
6. Wait 5-10 minutes
7. Clear browser cache
8. Try again

Common mistakes:
  âŒ http://pollx.duckdns.org:3000/api/auth/callback/google (has port)
  âŒ http://pollx.duckdns.org/api/auth/callback/google/ (trailing slash)
  âŒ https://pollx.duckdns.org/api/auth/callback/google (wrong protocol)
  âœ… http://pollx.duckdns.org/api/auth/callback/google (CORRECT!)

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                         QUICK FIX                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

If you see the error, look at the URL in the error message.
It will show something like:

  "redirect_uri=http://pollx.duckdns.org/api/auth/callback/google"

Copy that EXACT URL and add it to Google Cloud Console.

That's it! ğŸ‰
